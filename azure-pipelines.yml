
trigger:
- main

jobs:
- job: myJob
  variables:
  - group: first-variable-group
  - name: group_secrets
    value: "value"
  pool:
    name: Default
  steps:
    - checkout: self
      clean: true

    - task: privateTask@0
      inputs:
        samplestring: 'private'
      name: privateTask

    - task: Cache@2
      inputs:
        key: mykey
        restoreKeys: mykey
        path: $(Agent.BuildDirectory)/s/mycache
        cacheHitVar: CACHE_RESTORED
    
    - task: greetTask@1
      inputs:
        samplestring: 'public'

    - bash: |
        value=`cat $(Agent.BuildDirectory)/s/mycache/mycache_test.txt`
        echo $value
        
    
      

# - job: secondJob
#   dependsOn: myJob
#   pool:
#     name: Default
    
#   steps:
#     - download: current
#       artifact: drop

#     - bash: |
#         value=`cat $(Pipeline.Workspace)/drop/test.txt`
#         echo $value
        
    
    
      
    
    
    
        
